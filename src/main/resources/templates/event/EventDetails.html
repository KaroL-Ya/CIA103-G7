<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>活動詳情</title>
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f5f5f5;
        color: #333;
    }

    header {
        text-align: center;
        background-color: #c28888;
        color: #fff;
        padding: 20px 0;
    }

    header h1 {
        margin: 0;
        font-size: 2rem;
    }

    .details-container {
        max-width: 800px;
        margin: 20px auto;
        padding: 20px;
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        border: 1px solid #e0e0e0;
        position: relative;
    }

    .details-container h2 {
        font-size: 1.5rem;
        margin-bottom: 20px;
    }

     .details-container p {
            font-size: 16px;
            color: #555;
            margin-bottom: 10px;
        }
      .details-container p strong {
            color: #007BFF;
        }
    

    .back-links-container {
        position: absolute;
        bottom: 20px;
        right: 20px;
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .back-link {
        background-color: #fff;
        padding: 10px 20px;
        color: #c28888;
        text-align: center;
        text-decoration: none;
        border-radius: 5px;
        font-weight: bold;
        transition: background-color 0.3s;
        border: 1px solid #c28888; /* Optional: add border for better visibility */
    }

    .back-link:hover {
        background-color: #c28888;
        color: #fff;
    }




     img {
         width: 50%; /* Adjust width to fit the container */
         height: auto; /* Maintain aspect ratio */
     }
</style>
</head>
<body>
<header>
活動詳情
</header>
<!--      <div class="card-body text-center"> -->
<!--          <div class="mb-2 d-flex align-items-center justify-content-center"> -->
<!--          </div> -->
<!--          <div class="event-content"><span>活動編號:</span><span class="value" th:text="${eveThis.eveID}"></span></div> -->
<!--          <div class="event-content"><span>活動名稱:</span><span class="value" th:text="${eveThis.eveName}"></span></div> -->
  
<!--          <div class="event-content"><span>活動編號:</span><span class="value" th:text="${eveThis.eveID}"></span></div> -->
<!--          <div class="event-content"><span>活動編號:</span><span class="value" th:text="${eveThis.eveID}"></span></div> -->
<!--          <div class="event-content"><span>活動編號:</span><span class="value" th:text="${eveThis.eveID}"></span></div> -->
<!--          <div class="event-content"><span>活動編號:</span><span class="value" th:text="${eveThis.eveID}"></span></div> -->
<!--              <div class="mb-2"><span>活動狀態:</span> -->
<div class="details-container">
        <h2 th:text="${eveThis.eveName}">活動標題</h2>
        <p><strong>地點:</strong> <span th:text="${eveThis.loc}"></span></p>
        <p><strong>日期:</strong> <span th:text="${eveThis.dat}"></span></p>
        <p><strong>內容:</strong></p>
  <p th:text="${eveThis.detail}"></p> 
  <p><strong>現在報名人數:</strong> <span th:text="${eveThis.num}"></span></p>
        <p><strong>人數上限:</strong> <span th:text="${eveThis.lim}"></span></p>
        <p><strong>報名開始日:</strong> <span th:text="${eveThis.opd}"></span></p>
        <p><strong>報名結束日:</strong> <span th:text="${eveThis.trm}"></span></p>
        <p><strong>是否收費:</strong> <span th:if="${eveThis.cost == 1}">是</span><span th:if="${eveThis.cost == 0}">否</span></p>
    <img src="https://caffes.me/wp-content/uploads/2018/01/coffee-2589759_1920.jpg" alt="Coffee Image" style="position: fixed; right: 230px; top: 170px; width: 290px; height: auto; margin: 10px;">
        
 <form th:action="@{/participate/enroll/{eveID}(eveID=${eveThis.eveID})}" method="post">
        <input type="hidden" name="eveID" th:value="${eveThis.eveID}" />
<!--         <button type="submit">報名</button> -->
    <button type="submit" th:if="${not repeat}">報名</button>

    </form>
    
    <form th:action="@{/participate/cancel/{eveID}(eveID=${eveThis.eveID})}" method="post">
        <input type="hidden" name="eveID" th:value="${eveThis.eveID}" />
<!--         <button type="submit">報名</button> -->
    <button type="submit" th:if="${repeat}">取消報名</button>

    </form>
    
<!--             <form th:action="@{/participate/enroll/{eveID}(eveID=${eveThis.eveID})}" method="post"> -->
<!--         <input type="hidden" name="eveID" th:value="${eveThis.eveID}" /> -->
<!--         <button type="submit">報名</button> -->
<!--     </form> -->
<!--         </div> -->
<!--      </div> -->
<div class="back-links-container">
<!--  <a class="back-link" th:href="@{/events/list}" > 我的活動 -->
<!--     </a> -->
<a class="back-link" th:if="${session.ac != null}" href="http://localhost:8080/participate/myEvents/1001"> 我的活動</a>
    <a class="back-link" th:href="@{/events/list}"> 返回活動列表
    </a>
    </div>
<!--  <div th:if="${session.user != null}"> -->
<!--         只有登入的用戶才會看到此按鈕 -->
<!--         <a href="/my-profile">我的資料</a> -->
<!--         <a href="/logout">登出</a> -->
<!--     </div> -->

    </div>
    <div >
        <!-- 未登入的用戶顯示登入選項 -->        
        <a th:if="${session.mem_Id == null}" href="/login">登入</a>
<form th:action="@{/mlogout}" method="post" th:if="${session.ac != null}">
    <button type="submit" style="background: none; border: none; color: blue; text-decoration: underline; cursor: pointer; padding: 0; font: inherit;">登出</button>
 </form>        
    </div>
</body>
</html>